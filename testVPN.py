import requests
from google import genai

# –í—Å—Ç–∞–≤—å –∫–ª—é—á
API_KEY = "AIzaSyAPnuJCUBA8QzxU8shSg96Rpf4qiB2exv8"
print("üîç –®–ê–ì 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–∞–∫–æ–π IP –≤–∏–¥–∏—Ç Python...")
try:
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á–µ—Ä–µ–∑ –∫–∞–∫—É—é —Å—Ç—Ä–∞–Ω—É —Ä–µ–∞–ª—å–Ω–æ –∏–¥–µ—Ç –∑–∞–ø—Ä–æ—Å
    response = requests.get("https://ipinfo.io/json", timeout=5)
    data = response.json()
    country = data.get('country', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')
    ip = data.get('ip', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')
    print(f"üåç –¢–≤–æ—è —Å—Ç—Ä–∞–Ω–∞ –¥–ª—è Python: {country}")
    print(f"üíª –¢–≤–æ–π IP: {ip}")
    
    if country in ["RU", "BY"]:
        print("\n‚ùå –ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê: Python –≤–∏–¥–∏—Ç, —á—Ç–æ —Ç—ã –≤ –†–§/–†–ë.")
        print("–¢–≤–æ–π VPN —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞, –Ω–æ –Ω–µ –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏.")
        print("–†–µ—à–µ–Ω–∏–µ: –ù—É–∂–µ–Ω VPN, –∫–æ—Ç–æ—Ä—ã–π —Ç—É–Ω–Ω–µ–ª–∏—Ä—É–µ—Ç –í–ï–°–¨ —Ç—Ä–∞—Ñ–∏–∫ —Å–∏—Å—Ç–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, TunMode –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö —Ç–∏–ø–∞ Nekoray/V2Ray –∏–ª–∏ –æ–±—ã—á–Ω—ã–π ProtonVPN).")
    else:
        print("\n‚úÖ –° VPN –≤—Å—ë –æ–∫, —Å—Ç—Ä–∞–Ω–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç.")
        
except Exception as e:
    print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ IP: {e}")

print("\n" + "="*30 + "\n")

print("üîç –®–ê–ì 2. –°–ø—Ä–∞—à–∏–≤–∞–µ–º —É Google —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π...")
if API_KEY == "–¢–í–û–ô_–ö–õ–Æ–ß_–ó–î–ï–°–¨":
    print("‚ö†Ô∏è –¢—ã –∑–∞–±—ã–ª –≤—Å—Ç–∞–≤–∏—Ç—å API –∫–ª—é—á –≤ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç!")
else:
    try:
        client = genai.Client(api_key=API_KEY)
        # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ò–ú–ï–ù–ù–û –¢–ï–ë–ï
        models = client.models.list()
        
        found_any = False
        print("üìã –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ–±–µ –º–æ–¥–µ–ª–µ–π:")
        for m in models:
            # –ò—â–µ–º –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–º–µ—é—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç
            if "generateContent" in m.supported_actions:
                print(f"üîπ {m.name}")
                found_any = True
        
        if not found_any:
            print("\n‚ùå –°–ü–ò–°–û–ö –ü–£–°–¢. Google –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å —ç—Ç–æ–≥–æ IP (–¥–∞–∂–µ –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∞ –æ–∫).")
            print("–ü–æ–ø—Ä–æ–±—É–π —Å–º–µ–Ω–∏—Ç—å —Å–µ—Ä–≤–µ—Ä VPN.")
        else:
            print("\n‚úÖ –£–†–ê! –ë–µ—Ä–∏ –ª—é–±–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, gemini-1.5-flash) –∏ –≤—Å—Ç–∞–≤–ª—è–π –≤ –±–æ—Ç–∞.")

    except Exception as e:
        print(f"\n‚ùå –û–®–ò–ë–ö–ê Google API: {e}")
        if "404" in str(e):
            print("üëâ –≠—Ç–æ 100% –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω—É. –ú–µ–Ω—è–π VPN –∏–ª–∏ —Å—Ç—Ä–∞–Ω—É –≤ VPN.")